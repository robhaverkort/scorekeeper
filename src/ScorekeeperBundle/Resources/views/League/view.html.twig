{% extends 'ScorekeeperBundle::base.html.twig' %}

{% block title %}SP SCOREKEEPER{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link href="{{ asset('css/league.css') }}" rel="stylesheet" />
{% endblock %}

{% block body %}

    <h1>{{ league.name }}</h1>

    <!--<table class="result_table" border="1" cellpadding="2" cellspacing="0">-->
    <table class="result_table">
        <colgroup>
            <col>
            <col style="width:40px">
            <col style="width:40px">
        </colgroup>
        <colgroup>
            {% for n in 1..25 %}<col width="32px">{% endfor %}
        </colgroup>
        <tr>
            <th>naam</th>
            <th>sum</th>
            <th>ave</th>
            {% for n in 1..25 %}<th>{{ n }}</th>{% endfor %}
        </tr>
        {% for user in users %}
            <tr>
                <td>{{ user.name }}</td>
                <td>{{ info[user.id].sum }}</td>
                <td>{{ info[user.id].ave|number_format(1) }}</td>
                {% for result in results[user.id] %}
                    <td>
                        <span title="{{ result.contest.date|date('Y/m/d') }}">
                            {{ result.total }}
                        </span>
                    </td>
                {% endfor %}
            </tr>
        {% endfor %}
    </table>

{#
    {{ dump(league) }}
    {{ dump(users) }}
    {{ dump(results) }}
    {{ dump(info) }}
#}
<p><a href="{{ path('league_email',{'league_id':league.id} ) }}">Email deze competitie naar alle deelnemers.</a></p>
{% endblock %}


