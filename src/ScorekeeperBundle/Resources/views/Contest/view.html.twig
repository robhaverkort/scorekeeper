{% extends 'ScorekeeperBundle::base.html.twig' %}

{% block title %}SP SCOREKEEPER{% endblock %}

{% block body %}
    <form>
        <select id="SelectURL">
            {% for c in contests %}
                <option value="{{ c.id }}"{% if c.id==contest.id %} selected{% endif%}>{{ c.date|date('Y/m/d') }}</option>
            {% endfor %}
        </select>
    </form>

    <script>
        var s = document.getElementById("SelectURL");
        s.onchange = function () {
            var route = "{{ path('contestdetail',{'id':"PLACEHOLDER"}) }}";
            window.location = route.replace("PLACEHOLDER", s.options[s.selectedIndex].value);
        };
    </script> 

    <h1>{{ contest.date|date('Y/m/d') }}</h1>
    <p>
    <table>
        {% for user in users %}
            <tr>
                <td>{{ user.name }}</td>
                {% for result in results[user.id] %}
                    {% for score in result %}
                        <td>
                            {{ score.total }}
                        </td>
                    {% endfor %}
                {% endfor %}
            </tr>
        {% endfor %}
    </table>
</p>
{% endblock %}
