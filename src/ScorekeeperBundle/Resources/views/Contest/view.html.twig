{% extends 'ScorekeeperBundle::base.html.twig' %}

{% block title %}SP SCOREKEEPER{% endblock %}

{% block body %}
    <form>
        <select id="SelectURL">
            {% for c in contests %}
                <option value="{{ c.id }}"{% if c.id==contest.id %} selected{% endif%}>{{ c.date|date('Y/m/d') }}</option>
            {% endfor %}
        </select>
    </form>

    <script>
        var s = document.getElementById("SelectURL");
        s.onchange = function () {
            var route = "{{ path('contestdetail',{'id':"PLACEHOLDER"}) }}";
            window.location = route.replace("PLACEHOLDER", s.options[s.selectedIndex].value);
        };
    </script> 

    <h1>{{ contest.date|date('Y/m/d') }}</h1>

    <p>
    <table>
        <tr>
            <th>Schutter</th>
                {% for n in 10..6 %}
                <th width="20">{{ n }}</th>
                {% endfor %}
            <th width="40">tot</th>
        </tr>
        {% for result in results %}
            <tr>
                <td>{{ result.user.name }}</td>

                {% for shot in result.details|split(' ') %}
                    <td align="center">{{ shot }}</td>
                {% endfor %}

                <td align="right">{{ result.total }}</td>
            </tr>
        {% endfor %}
        {{ render(controller('ScorekeeperBundle:Result:edit',{'result_id':1})) }}
        <tr><td><a href="#">new</a></td></tr>
    </table>
</p>

{% endblock %}
